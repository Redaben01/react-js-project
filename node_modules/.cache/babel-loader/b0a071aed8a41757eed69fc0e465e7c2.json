{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ACER\\\\Desktop\\\\react project Ecommerce website\\\\src\\\\components\\\\Blog\\\\ListArticles.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport OneArticle from './OneArticle';\nimport { Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ListArticles() {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n\n  const getAllArticles = () => {\n    axios.get(\"http://localhost:4000/articles\").then(response => setArticles(response.data)).catch(err => console.error(err));\n  };\n\n  const deleteArticle = id => {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(result => {\n      if (result.isConfirmed) {\n        axios.delete(`http://localhost:4000/articles/${id}`).then(() => {\n          setArticles(articles.filter(article => article.id != id));\n          Swal.fire('Deleted!', 'Your file has been deleted.', 'success');\n        }).catch(err => console.error(err));\n      }\n    });\n  };\n\n  useEffect(() => {\n    getAllArticles();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row my-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h1\",\n          children: \"List of articles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6 text-end\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/article/create\",\n          className: \"btn btn-primary\",\n          children: \"Connexion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row my-3\",\n      children: articles && articles.map(article => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(OneArticle, {\n          title: article.title,\n          content: article.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteArticle(article.id),\n          className: \"btn btn-danger\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ListArticles, \"XsOpLvUbTkfx79dw07TVNsBviNQ=\");\n\n_c = ListArticles;\nexport default ListArticles;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListArticles\");","map":{"version":3,"sources":["C:/Users/ACER/Desktop/react project Ecommerce website/src/components/Blog/ListArticles.js"],"names":["React","useEffect","useState","OneArticle","Link","axios","Swal","ListArticles","articles","setArticles","getAllArticles","get","then","response","data","catch","err","console","error","deleteArticle","id","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","delete","filter","article","map","content"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport OneArticle from './OneArticle'\r\nimport { Link } from 'react-router-dom'\r\nimport axios from \"axios\"\r\nimport Swal from 'sweetalert2'\r\n\r\nfunction ListArticles() {\r\n\r\n    const [articles, setArticles] = useState([])\r\n\r\n    const getAllArticles = () => {\r\n        axios.get(\"http://localhost:4000/articles\")\r\n             .then(response => setArticles(response.data))\r\n             .catch(err => console.error(err))\r\n    }\r\n\r\n    const deleteArticle = (id) => {\r\n\r\n       \r\n        Swal.fire({\r\n            title: 'Are you sure?',\r\n            text: \"You won't be able to revert this!\",\r\n            icon: 'question',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Yes, delete it!'\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n\r\n                axios.delete(`http://localhost:4000/articles/${id}`)\r\n                .then(() => {\r\n                    setArticles(articles.filter(article => article.id != id))\r\n                    Swal.fire(\r\n                        'Deleted!',\r\n                        'Your file has been deleted.',\r\n                        'success'\r\n                      )\r\n                })\r\n                .catch(err => console.error(err))\r\n\r\n\r\n             \r\n            }\r\n          })\r\n\r\n\r\n\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n        getAllArticles()\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n        <div className=\"row my-4\">\r\n            <div className=\"col-md-6\">\r\n                <div className=\"h1\">List of articles</div>\r\n            </div>\r\n            <div className=\"col-md-6 text-end\"><Link to=\"/article/create\" className=\"btn btn-primary\">Connexion</Link></div>\r\n        </div>\r\n        <div className=\"row my-3\">\r\n            {articles && articles.map(article => (\r\n\r\n                <div className=\"col-md-6\">\r\n                   <OneArticle title={article.title} content={article.content} />\r\n                   <button onClick={() => deleteArticle(article.id)} className='btn btn-danger'>Delete</button>\r\n                </div>\r\n\r\n            ))}\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default ListArticles"]},"metadata":{},"sourceType":"module"}